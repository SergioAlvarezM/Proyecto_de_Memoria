@startuml
' Template file to use to create the diagrams od the packages.
' Every file must have a sub part called INTERNAL with the internal connections of the package and
' a sub part called EXTERNAL with the external parts.

!startsub INTERNAL

    package engine {
        class Engine
        class Settings

        !includesub src.engine.scene.puml!INTERNAL
        !includesub src.engine.render.puml!INTERNAL
        !includesub src.engine.controller.puml!INTERNAL
        !includesub src.engine.gui.puml!INTERNAL

        package data {
            class decimation
        }
        class ProcessManager
        class ThreadManager
    }

    Engine o--o Scene
    Engine o--o Controller
    Engine o--o Render
    Engine o--o GUIManager
    Engine -u.> Settings
    ProcessManager --o Engine
    ThreadManager --o Engine
!endsub


!if (%false())
    !startsub EXTERNAL
        Engine o- ShapefileExporter
        Engine o--o Program
        Engine .> ShapefileImporter
        Engine .> NetcdfExporter
        Engine .> NetCDF
    !endsub
!endif

' Code that will affect only the current diagramde
' can be messy since will not be imported
hide members
remove GUI
remove scene
remove data

allowmixing

package engine {
    component "GUI" as guicomponent
    component "Scene" as scenecomponent
}

Engine o-- scenecomponent
Engine o-- guicomponent
src.output.ShapefileExporter o- Engine
Engine o--o src.program.Program
Engine .> src.input.ShapefileImporter
Engine .> src.output.NetcdfExporter
Engine .> src.input.NetCDF

left to right direction

@enduml